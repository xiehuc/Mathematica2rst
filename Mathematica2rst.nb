(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     13710,        354]
NotebookOptionsPosition[     13332,        337]
NotebookOutlinePosition[     13665,        352]
CellTagsIndexPosition[     13622,        349]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{"ClearAll", "[", 
  RowBox[{"ConvertCell", ",", "ConvertText", ",", "ConvertForm"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"$ConvertFileName", "=", "\"\<test.rst\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", "n_Notebook", "]"}], ":=", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"ToString", "/@", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ConvertCell", "@@", "#"}], "&"}], "/@", 
       RowBox[{"n", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_", ",", "\"\<Title\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{"ConvertTitle", "[", 
    RowBox[{"t", ",", "\"\<==\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_", ",", "\"\<Section\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{"ConvertTitle", "[", 
    RowBox[{"t", ",", "\"\<--\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_", ",", "\"\<Subsection\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{"ConvertTitle", "[", 
    RowBox[{"t", ",", "\"\<~~\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_String", ",", "\"\<Text\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{"\"\<\\n\>\"", "<>", 
    RowBox[{"ToString", "[", "t", "]"}], "<>", "\"\<\\n\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_TextData", ",", "\"\<Text\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"ConvertText", "@@", "#"}], "&"}], "/@", 
     RowBox[{"t", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}], "<>", "\"\<\\n\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"t_", ",", "\"\<Equation\>\"", ",", "__"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"ConvertText", "[", "t", "]"}], "<>", "\"\<\\n\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", 
    RowBox[{"l_List", ",", "___"}], "]"}], ":=", 
   RowBox[{
    RowBox[{
     RowBox[{"ConvertCell", "@@", "#"}], "&"}], "/@", "l"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCell", "[", "cg_CellGroupData", "]"}], ":=", 
   RowBox[{"ConvertCellGroup", "@@", "cg"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertCell", "[", 
     RowBox[{"c_BoxData", ",", "___"}], "]"}], ":=", 
    RowBox[{"ConvertText", "[", "c", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertTitle", "[", 
     RowBox[{"t_", ",", "sub_"}], "]"}], ":=", 
    RowBox[{"\"\<\\n\>\"", "<>", "t", "<>", "\"\<\\n\>\"", "<>", 
     RowBox[{"StringJoin", "[", 
      RowBox[{"ConstantArray", "[", 
       RowBox[{"sub", ",", 
        RowBox[{"StringLength", "[", "t", "]"}]}], "]"}], "]"}], "<>", 
     "\"\<\\n\>\""}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCellGroup", "[", "l_List", "]"}], ":=", 
   RowBox[{"ConvertCell", "[", "l", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertCellGroup", "[", 
    RowBox[{"l_List", ",", "Open"}], "]"}], ":=", 
   RowBox[{"ConvertCell", "[", "l", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertCellGroup", "[", 
     RowBox[{"l_List", ",", "o_List"}], "]"}], ":=", 
    RowBox[{"ConvertCell", "[", 
     RowBox[{"l", "[", 
      RowBox[{"[", "o", "]"}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "ConvertText", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"FontColor", "\[Rule]", "Black"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertText", "[", 
    RowBox[{"t_String", ",", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "t"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertText", "[", 
    RowBox[{"c_BoxData", ",", "___"}], "]"}], ":=", 
   RowBox[{"ConvertText", "@@", "c"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertText", "[", "c_RowBox", "]"}], ":=", "c"}], 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"ConvertText", "@@", "#"}], "&"}], "/@", 
    RowBox[{"c", "[", 
     RowBox[{"[", "1", "]"}], "]"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ConvertText", "[", 
   RowBox[{"g_GraphicsBox", ",", "___"}], "]"}], ":=", 
  RowBox[{"ConvertImage", "[", 
   RowBox[{
    RowBox[{"RawBoxes", "[", "g", "]"}], ",", 
    RowBox[{"GenerateFileName", "[", "$ConvertFileName", "]"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertText", "[", 
    RowBox[{"g_Graph", ",", "___"}], "]"}], ":=", "\"\<\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertText", "[", "c_FormBox", "]"}], ":=", 
    RowBox[{"ConvertForm", "@@", "c"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertForm", "[", 
    RowBox[{"c_", ",", "TraditionalForm"}], "]"}], ":=", 
   RowBox[{"\"\<$\>\"", "<>", 
    RowBox[{"ConvertForm", "[", "c", "]"}], "<>", "\"\<$\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertForm", "[", "s_String", "]"}], ":=", 
   RowBox[{
    RowBox[{"\"\<\\\\text{\>\"", "<>", "s", "<>", "\"\<}\>\""}], "/;", 
    RowBox[{"AnyTrue", "[", 
     RowBox[{
      RowBox[{"ToCharacterCode", "[", "s", "]"}], ",", 
      RowBox[{
       RowBox[{"#", ">", "10000"}], "&"}]}], "]"}]}]}], 
  RowBox[{"(*", "\:5305\:542b\:6c49\:5b57", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertForm", "[", "s_String", "]"}], ":=", 
   RowBox[{"s", "/;", 
    RowBox[{"AllTrue", "[", 
     RowBox[{
      RowBox[{"ToCharacterCode", "[", "s", "]"}], ",", 
      RowBox[{
       RowBox[{"#", "<", "256"}], "&"}]}], "]"}]}]}], 
  RowBox[{
  "(*", "\:5168\:90e8\:662fASCII\:7801", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertForm", "[", "s_String", "]"}], ":=", 
   RowBox[{"ToString", "[", 
    RowBox[{"TeXForm", "[", "s", "]"}], "]"}]}], 
  RowBox[{"(*", 
   RowBox[{"\:6709\:7279\:6b8a\:7b26\:53f7", ",", 
    RowBox[{"\:5982", "\\", "cdots"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertForm", "[", "r_RowBox", "]"}], ":=", 
    RowBox[{"StringJoin", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"ConvertForm", "[", "#", "]"}], "&"}], "/@", 
      RowBox[{"r", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"ConvertForm", "[", "c_RowBox", "]"}], ":=", 
    RowBox[{"ToString", "[", 
     RowBox[{"TeXForm", "[", 
      RowBox[{"RawBoxes", "[", "c", "]"}], "]"}], "]"}]}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ConvertForm", "[", "c_", "]"}], ":=", 
   RowBox[{"ToString", "[", 
    RowBox[{"TeXForm", "[", 
     RowBox[{"RawBoxes", "[", "c", "]"}], "]"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ConvertImage", "[", 
     RowBox[{"g_", ",", "file_"}], "]"}], ":=", 
    RowBox[{"Export", "[", 
     RowBox[{"file", ",", "g"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ConvertEvaluation", "[", "t_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"CreateDocument", "[", 
      RowBox[{"t", ",", 
       RowBox[{"Visible", "\[Rule]", "False"}]}], "]"}], "//", 
     "NotebookEvaluate"}], "//", "TeXForm"}], "//", "ToString", 
   "\[IndentingNewLine]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.621328437537993*^9, 3.621328446239265*^9}, {
   3.621329764989813*^9, 3.62132977682937*^9}, {3.6213298583980827`*^9, 
   3.621329909810664*^9}, {3.621329967559848*^9, 3.621329974051283*^9}, {
   3.6213301426094522`*^9, 3.621330256708666*^9}, {3.6213303164095783`*^9, 
   3.621330325650963*^9}, {3.621330358100874*^9, 3.621330416042741*^9}, {
   3.621330491652237*^9, 3.6213305435610456`*^9}, {3.6213306236912003`*^9, 
   3.621330710953927*^9}, {3.621330763934248*^9, 3.621330766086347*^9}, {
   3.621330798185306*^9, 3.621330855209903*^9}, {3.621330956443542*^9, 
   3.6213309743000307`*^9}, {3.621331028050571*^9, 3.621331028882998*^9}, {
   3.62133112797253*^9, 3.621331133659873*^9}, {3.62133118218266*^9, 
   3.621331222662882*^9}, {3.621331258924901*^9, 3.621331366291808*^9}, {
   3.621331404476804*^9, 3.621331424438841*^9}, {3.6213315543211517`*^9, 
   3.6213315611234627`*^9}, {3.621331671441333*^9, 3.621331794865377*^9}, {
   3.621331854625114*^9, 3.621331858921694*^9}, {3.621331891406945*^9, 
   3.621332162607135*^9}, {3.62133219404846*^9, 3.6213322891226397`*^9}, {
   3.6213323286603203`*^9, 3.621332331677668*^9}, {3.6213324103338137`*^9, 
   3.621332449831311*^9}, {3.621332515569313*^9, 3.621332593024123*^9}, {
   3.6213329552230787`*^9, 3.621333040020146*^9}, {3.621333792618515*^9, 
   3.621333801754711*^9}, {3.621333831907256*^9, 3.6213338582267103`*^9}, {
   3.621333941947248*^9, 3.621334021211608*^9}, {3.6213340517972937`*^9, 
   3.6213340529718523`*^9}, {3.621334158964385*^9, 3.6213341624864817`*^9}, {
   3.621334271081094*^9, 3.621334393914062*^9}, {3.621334451310569*^9, 
   3.621334461290259*^9}, {3.6213345334612827`*^9, 3.621334572631912*^9}, {
   3.621334644201496*^9, 3.62133465455294*^9}, {3.6213347250957947`*^9, 
   3.621334728233397*^9}, {3.6213347996495523`*^9, 3.6213348400812807`*^9}, {
   3.621334878956315*^9, 3.621334883801074*^9}, {3.621334929361664*^9, 
   3.621334958101739*^9}, {3.62133512683213*^9, 3.621335157786191*^9}, 
   3.621335193918991*^9, {3.621335295373321*^9, 3.621335313987014*^9}, {
   3.62133534779845*^9, 3.621335352872785*^9}, {3.621335412454529*^9, 
   3.621335434643084*^9}, {3.6213354741626463`*^9, 3.621335492928576*^9}, {
   3.621335614021591*^9, 3.621335622880486*^9}, {3.621335677611367*^9, 
   3.621335829092949*^9}, {3.621335875122634*^9, 3.621335899583227*^9}, {
   3.621335941503874*^9, 3.6213360652365007`*^9}, {3.621336098624256*^9, 
   3.621336207046232*^9}, {3.621336241385467*^9, 3.621336250954458*^9}, 
   3.6213831577648973`*^9, {3.6213832590765676`*^9, 3.621383261066618*^9}, {
   3.621383292208929*^9, 3.6213832950109043`*^9}, {3.621383336525756*^9, 
   3.62138333927947*^9}, {3.621383383025784*^9, 3.621383386149609*^9}, {
   3.621384853225651*^9, 3.621384893789884*^9}, {3.621384949390051*^9, 
   3.62138498476607*^9}, {3.6213850350850487`*^9, 3.6213850365343037`*^9}, {
   3.621385713893529*^9, 3.621385718309249*^9}, {3.62138576657241*^9, 
   3.621385771530177*^9}, 3.6213861509409*^9, {3.6213861876858807`*^9, 
   3.621386209660459*^9}, {3.621386328905596*^9, 3.621386363165448*^9}, {
   3.621386456777896*^9, 3.6213865031428022`*^9}, {3.621386564198267*^9, 
   3.621386596104995*^9}, {3.621386638488958*^9, 3.6213866434732437`*^9}, {
   3.621386674091606*^9, 3.6213866805262833`*^9}, {3.621386889400779*^9, 
   3.621386952574266*^9}, {3.6213872886461*^9, 3.6213873094571953`*^9}, {
   3.621387346928668*^9, 3.621387375849378*^9}, {3.621387407516782*^9, 
   3.621387434461956*^9}, {3.621387535391391*^9, 3.6213877252601137`*^9}, {
   3.6213878378400183`*^9, 3.621387840483116*^9}, {3.621387947021834*^9, 
   3.621387948039996*^9}, {3.621388103816328*^9, 3.621388204654853*^9}, {
   3.621388234803975*^9, 3.6213883025726233`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"notebook", "=", 
   RowBox[{
   "Import", "[", 
    "\"\</home/xiehuc/KuaiPan/llvm-pred/\:57fa\:672c\:5757\:9891\:7387\:7814\
\:7a76.nb\>\"", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.621327709567333*^9, 3.6213277715723763`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"s", "=", 
   RowBox[{"OpenWrite", "[", 
    RowBox[{"\"\<a.rst\>\"", ",", 
     RowBox[{"CharacterEncoding", "\[Rule]", "\"\<UTF8\>\""}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"WriteString", "[", 
   RowBox[{"s", ",", 
    RowBox[{"ConvertCell", "[", "notebook", "]"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Close", "[", "s", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.6213359781573477`*^9, 3.621335984139042*^9}, {
  3.6213362709173117`*^9, 3.621336327417734*^9}, {3.6213364360117064`*^9, 
  3.6213364704798727`*^9}}],

Cell[BoxData[
 RowBox[{"ConvertCell", "[", "notebook", "]"}]], "Input",
 CellChangeTimes->{{3.621383173287969*^9, 3.621383177689515*^9}}]
},
WindowSize->{1440, 844},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"10.0 for Linux x86 (64-bit) (June 27, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 11743, 284, 869, "Input",
 InitializationCell->True],
Cell[12304, 306, 270, 7, 38, "Input"],
Cell[12577, 315, 611, 16, 77, "Input"],
Cell[13191, 333, 137, 2, 32, "Input"]
}
]
*)

(* End of internal cache information *)
